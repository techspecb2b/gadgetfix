<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laster... | GadgetFix</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-green: #1DBF73; --primary-green-dark: #18a563; --dark: #131D26; --dark-lighter: #1a2633; --dark-card: #1e2d3a; --light: #F5F5F5; --text-muted: #8a9bae; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--dark); color: var(--light); line-height: 1.6; }
        .icon { width: 24px; height: 24px; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; fill: none; }

        nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: rgba(19, 29, 38, 0.95); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(29, 191, 115, 0.1); }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 0 2rem; display: flex; justify-content: space-between; align-items: center; height: 80px; }
        .logo { display: flex; align-items: center; gap: 12px; text-decoration: none; }
        .logo-img { height: 45px; width: auto; }
        .logo-icon { width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-dark)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--dark); }
        .logo-text { font-weight: 700; font-size: 1.4rem; color: var(--light); }
        .logo-text span { color: var(--primary-green); }
        .nav-links { display: flex; gap: 2rem; list-style: none; }
        .nav-links a { text-decoration: none; color: var(--text-muted); font-weight: 500; transition: all 0.3s ease; }
        .nav-links a:hover, .nav-links a.active { color: var(--primary-green); }
        .nav-cta { background: linear-gradient(135deg, var(--primary-green), var(--primary-green-dark)); color: var(--dark); padding: 12px 28px; border-radius: 50px; text-decoration: none; font-weight: 600; }
        .mobile-menu-btn { display: none; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; }
        .mobile-menu-btn span { width: 25px; height: 2px; background: var(--light); }
        .mobile-menu { display: none; position: fixed; top: 80px; left: 0; right: 0; background: var(--dark-lighter); padding: 1rem 2rem; z-index: 999; }
        .mobile-menu.active { display: block; }
        .mobile-menu a { display: block; padding: 1rem 0; color: var(--light); text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.05); }

        .post-header { padding: 120px 2rem 40px; background: var(--dark-lighter); }
        .post-header-content { max-width: 800px; margin: 0 auto; }
        .back-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--primary-green); text-decoration: none; font-size: 0.9rem; margin-bottom: 1.5rem; transition: opacity 0.3s; }
        .back-link:hover { opacity: 0.8; }
        .post-category { display: inline-block; background: var(--primary-green); color: var(--dark); padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; }
        .post-header h1 { font-size: clamp(1.75rem, 4vw, 2.5rem); font-weight: 700; line-height: 1.3; margin-bottom: 1rem; color: var(--light); }
        .post-meta { display: flex; gap: 1.5rem; color: var(--text-muted); font-size: 0.9rem; }

        .post-container { max-width: 800px; margin: 0 auto; padding: 3rem 2rem; }

        .post-content { color: var(--light); }
        .post-content p { margin-bottom: 1.5rem; font-size: 1.05rem; line-height: 1.8; color: var(--light); }
        .post-content h2 { font-size: 1.5rem; font-weight: 600; margin: 2.5rem 0 1rem; color: var(--light); }
        .post-content h3 { font-size: 1.25rem; font-weight: 600; margin: 2rem 0 1rem; color: var(--light); }
        .post-content ul, .post-content ol { margin-bottom: 1.5rem; padding-left: 1.5rem; }
        .post-content li { margin-bottom: 0.75rem; font-size: 1.05rem; line-height: 1.7; color: var(--light); }
        .post-content strong { color: var(--light); font-weight: 600; }
        .post-content a { color: var(--primary-green); text-decoration: none; }
        .post-content a:hover { text-decoration: underline; }

        .cta-box { background: var(--dark-card); border-radius: 16px; padding: 2rem; margin-top: 3rem; text-align: center; border: 1px solid rgba(29, 191, 115, 0.2); }
        .cta-box h3 { font-size: 1.25rem; margin-bottom: 0.75rem; color: var(--light); }
        .cta-box p { color: var(--text-muted); margin-bottom: 1.5rem; }
        .cta-box .btn { display: inline-block; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-dark)); color: var(--dark); padding: 12px 28px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: transform 0.3s; }
        .cta-box .btn:hover { transform: translateY(-2px); }

        .related-posts { margin-top: 4rem; }
        .related-posts h3 { font-size: 1.25rem; margin-bottom: 1.5rem; color: var(--light); }
        .related-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .related-card { background: var(--dark-card); border-radius: 12px; padding: 1.25rem; text-decoration: none; transition: all 0.3s; border: 1px solid rgba(255,255,255,0.05); }
        .related-card:hover { transform: translateY(-3px); border-color: rgba(29, 191, 115, 0.3); }
        .related-card h4 { font-size: 1rem; font-weight: 500; color: var(--light); margin-bottom: 0.5rem; line-height: 1.4; }
        .related-card span { font-size: 0.8rem; color: var(--text-muted); }

        footer { background: var(--dark); padding: 40px 2rem 30px; border-top: 1px solid rgba(29, 191, 115, 0.1); margin-top: 4rem; }
        .footer-container { max-width: 1200px; margin: 0 auto; }
        .footer-bottom { display: flex; justify-content: space-between; }
        .footer-bottom p { color: var(--text-muted); font-size: 0.9rem; }

        .loading { text-align: center; padding: 4rem 2rem; color: var(--text-muted); }

        @media (max-width: 768px) {
            .nav-links, .nav-cta { display: none; }
            .mobile-menu-btn { display: flex; }
            .footer-bottom { flex-direction: column; gap: 1rem; text-align: center; }
            .post-meta { flex-direction: column; gap: 0.5rem; }
        }
    </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-smartphone" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></symbol>
        <symbol id="icon-arrow-left" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></symbol>
    </svg>

    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="logo.svg" alt="GadgetFix" class="logo-img">
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Hjem</a></li>
                <li><a href="prices.html">Priser</a></li>
                <li><a href="services.html">Tjenester</a></li>
                <li><a href="needhelp.html" class="active">Trenger hjelp?</a></li>
                <li><a href="contact.html">Kontakt</a></li>
            </ul>
            <a href="book.html" class="nav-cta">Bestill Reparasjon</a>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()"><span></span><span></span><span></span></button>
        </div>
    </nav>
    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html">Hjem</a>
        <a href="prices.html">Priser</a>
        <a href="services.html">Tjenester</a>
        <a href="needhelp.html">Trenger hjelp?</a>
        <a href="contact.html">Kontakt</a>
        <a href="book.html">Bestill Reparasjon</a>
    </div>

    <header class="post-header">
        <div class="post-header-content">
            <a href="needhelp.html" class="back-link"><svg class="icon" style="width:18px;height:18px;"><use href="#icon-arrow-left"/></svg> Tilbake til Trenger hjelp?</a>
            <span class="post-category" id="postCategory">Laster...</span>
            <h1 id="postTitle">Laster...</h1>
            <div class="post-meta">
                <span id="postDate"></span>
                <span id="postReadTime"></span>
            </div>
        </div>
    </header>

    <main class="post-container">
        <article class="post-content" id="postContent">
            <p class="loading">Laster artikkel...</p>
        </article>

        <div class="cta-box">
            <h3>Trenger Du Profesjonell Hjelp?</h3>
            <p>Våre ekspert teknikere er klare til å diagnostisere og reparere enheten din. Gratis pristilbud, samme dag service tilgjengelig.</p>
            <a href="book.html" class="btn">Bestill Reparasjon</a>
        </div>

        <section class="related-posts">
            <h3>Relaterte Artikler</h3>
            <div class="related-grid" id="relatedPosts"></div>
        </section>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-bottom">
                <p>&copy; 2026 GadgetFix. Alle rettigheter reservert.</p>
                <p>1 Års Garanti på Alle Reparasjoner</p>
            </div>
        </div>
    </footer>

    <script>
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('active');
        }

        async function loadPost() {
            const urlParams = new URLSearchParams(window.location.search);
            const postId = urlParams.get('id');

            if (!postId) {
                window.location.href = 'needhelp.html';
                return;
            }

            try {
                const response = await fetch('posts.json');
                const data = await response.json();
                const post = data.posts.find(p => p.id === postId);

                if (!post) {
                    window.location.href = 'needhelp.html';
                    return;
                }

                // Update page content
                document.title = `${post.title} | PhoneFix`;
                document.getElementById('postCategory').textContent = post.category;
                document.getElementById('postTitle').textContent = post.title;
                document.getElementById('postDate').textContent = formatDate(post.date);
                document.getElementById('postReadTime').textContent = post.readTime;
                document.getElementById('postContent').innerHTML = post.content;

                // Add meta description
                const metaDesc = document.createElement('meta');
                metaDesc.name = 'description';
                metaDesc.content = post.excerpt;
                document.head.appendChild(metaDesc);

                // Load related posts (same category, excluding current)
                const related = data.posts
                    .filter(p => p.category === post.category && p.id !== post.id)
                    .slice(0, 3);

                if (related.length > 0) {
                    document.getElementById('relatedPosts').innerHTML = related.map(p => `
                        <a href="post.html?id=${p.id}" class="related-card">
                            <h4>${p.title}</h4>
                            <span>${p.readTime}</span>
                        </a>
                    `).join('');
                } else {
                    // Show posts from other categories if none in same category
                    const otherPosts = data.posts.filter(p => p.id !== post.id).slice(0, 3);
                    document.getElementById('relatedPosts').innerHTML = otherPosts.map(p => `
                        <a href="post.html?id=${p.id}" class="related-card">
                            <h4>${p.title}</h4>
                            <span>${p.readTime}</span>
                        </a>
                    `).join('');
                }

            } catch (error) {
                console.error('Error loading post:', error);
                document.getElementById('postContent').innerHTML = '<p>Unable to load article. Please try again later.</p>';
            }
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { day: 'numeric', month: 'long', year: 'numeric' });
        }

        loadPost();
    </script>
<script src="gadgetfix-tracking.js"></script>
</body>
</html>
